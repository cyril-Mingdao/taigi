<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>é€²éšå£èªªç·´ç¿’ - æ•™è‚²éƒ¨å°èªä¿—è«º</title>
    <link href="https://tauhu.tw/tauhu-oo.css" rel="stylesheet">
    <style>
        :root {
            --font-main: 'tauhu-oo', sans-serif;
            --color-correct: #58cc02;
            --color-wrong: #ff4b4b;
            --color-partial: #ffc800;
            --bg-start: #a18cd1;
            --bg-end: #fbc2eb;
            --panel-bg: rgba(255, 255, 255, 0.95);
        }

        * {
            box-sizing: border-box;
            user-select: none;
            -webkit-user-select: none;
        }

        body {
            margin: 0;
            padding: 0;
            font-family: var(--font-main);
            background: linear-gradient(135deg, var(--bg-start) 0%, var(--bg-end) 100%);
            height: 100vh;
            width: 100vw;
            overflow: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        body[oncontextmenu="return false;"] { -webkit-touch-callout: none; }

        #app {
            width: 95%;
            max-width: 900px;
            height: 90vh; /* å›ºå®šé«˜åº¦ï¼Œç¢ºä¿ç‰ˆé¢ä¸äº‚è·‘ */
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        /* éŠæˆ²å®¹å™¨æ”¹ç”¨ Grid ä½ˆå±€ï¼Œé–å®šæŒ‰éˆ•ä½ç½® */
        .game-container {
            width: 100%;
            height: 100%;
            max-height: 700px;
            background: var(--panel-bg);
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            padding: 20px;
            
            /* é—œéµï¼šGrid ä½ˆå±€ */
            display: grid;
            grid-template-rows: 1fr auto auto; /* ä¸Šæ–¹å…§å®¹å€(å½ˆæ€§)ã€å›é¥‹å€ã€ä¸‹æ–¹æŒ‰éˆ•å€(å›ºå®š) */
            gap: 15px;
            position: relative;
        }

        /* å…§å®¹åŒ…è£å€ï¼Œç¢ºä¿å‚ç›´ç½®ä¸­ */
        .content-wrapper {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            width: 100%;
            overflow: hidden; /* é˜²æ­¢å…§å®¹æ’é–‹ */
        }

        #menu-view {
            text-align: center;
            width: 100%;
            background: var(--panel-bg);
            padding: 40px;
            border-radius: 20px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.15);
        }

        h1 { margin: 0 0 10px 0; color: #333; font-size: 2rem; }
        h2 { margin: 0 0 30px 0; color: #666; font-size: 1.2rem; }

        .option-group { margin-bottom: 20px; }
        .option-label { display: block; margin-bottom: 10px; font-weight: bold; color: #444; }

        .btn-group {
            display: flex;
            justify-content: center;
            gap: 10px;
            flex-wrap: wrap;
        }

        .btn {
            font-family: var(--font-main);
            padding: 10px 20px;
            border: none;
            border-radius: 12px;
            background: #fff;
            border: 2px solid #e5e5e5;
            border-bottom: 4px solid #e5e5e5;
            color: #4b4b4b;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.1s;
        }

        .btn:active { transform: translateY(2px); border-bottom-width: 2px; }
        .btn.selected {
            background: #ddf4ff;
            border-color: #1cb0f6;
            color: #1899d6;
        }
        .btn-primary {
            background: #58cc02;
            border-color: #58a700;
            color: white;
            font-size: 1.2rem;
            padding: 12px 40px;
            margin-top: 20px;
        }
        .btn-primary:hover { background: #46a302; }

        .table-view {
            width: 100%;
            border-collapse: separate;
            border-spacing: 0;
            border: 2px solid #e5e5e5;
            border-radius: 12px;
            overflow: hidden;
            table-layout: fixed; /* å›ºå®šè¡¨æ ¼ä½ˆå±€ */
        }

        .table-view th, .table-view td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #eee;
            vertical-align: middle;
        }
        .table-view th { background: #f7f7f7; width: 25%; font-weight: bold; color: #555; white-space: nowrap;}
        
        /* é‡‹ç¾©æ¬„ä½ç‰¹åˆ¥è™•ç† */
        .table-view td { 
            background: #fff; 
            color: #333; 
            line-height: 1.4;
            /* é è¨­å­—é«”å¤§å°ï¼ŒJS æœƒæ ¹æ“šé•·åº¦è¦†å¯« */
            font-size: 1.2rem; 
            word-wrap: break-word;
        }

        /* å‹•æ…‹å­—é«”å¤§å° Class */
        .text-lg { font-size: 1.3rem; }
        .text-md { font-size: 1.1rem; }
        .text-sm { font-size: 0.95rem; }
        .text-xs { font-size: 0.85rem; line-height: 1.2; }

        .target-sentence { 
            font-weight: bold; 
            color: #222;
            font-size: clamp(1.2rem, 5vw, 1.8rem) !important;
        }

        .feedback-area {
            width: 100%;
            min-height: 80px;
            text-align: center;
            font-size: 1.3rem;
            font-weight: bold;
            padding: 10px;
            border-radius: 12px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            border: 2px solid transparent;
            background: #f8f8f8;
            /* Grid item placement */
            align-self: end;
        }

        .feedback-msg { font-size: 1rem; margin-top: 5px; color: #555; }

        .status-correct { border-color: var(--color-correct); background: #dffbea; }
        .status-correct .result-text { color: var(--color-correct); }
        .status-correct .feedback-msg { color: var(--color-correct); }

        .status-wrong { border-color: var(--color-wrong); background: #ffdfe0; }
        .status-wrong .result-text { color: var(--color-wrong); }
        .status-wrong .feedback-msg { color: var(--color-wrong); }

        .status-partial { border-color: #ffd900; background: #fff8d6; }
        .partial-text span:nth-child(odd) { color: var(--color-correct); }
        .partial-text span:nth-child(even) { color: var(--color-wrong); }
        .status-partial .feedback-msg { color: #d19d00; }

        /* æŒ‰éˆ•åˆ—å›ºå®šæ¨£å¼ */
        .control-bar {
            width: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 15px;
            padding-top: 10px;
            border-top: 2px solid #f0f0f0;
            flex-wrap: nowrap;
        }

        .icon-btn {
            width: 65px;
            height: 65px;
            border-radius: 50%;
            border: none;
            cursor: pointer;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 26px;
            box-shadow: 0 4px 0 rgba(0,0,0,0.2);
            transition: transform 0.1s;
            flex-shrink: 0;
        }
        .icon-btn:active { transform: translateY(4px); box-shadow: none; }
        
        .btn-audio { background: #1cb0f6; color: white; border: 2px solid #1899d6; }
        .btn-record { background: #fff; color: #1cb0f6; border: 2px solid #e5e5e5; }
        .btn-record.recording { 
            background: #ff4b4b; 
            color: white; 
            border-color: #d43f3f;
            animation: pulse 1.5s infinite; 
        }

        @keyframes pulse { 
            0% { box-shadow: 0 0 0 0 rgba(255, 75, 75, 0.4); } 
            70% { box-shadow: 0 0 0 15px rgba(255, 75, 75, 0); } 
            100% { box-shadow: 0 0 0 0 rgba(255, 75, 75, 0); } 
        }

        .nav-btn {
            background: #fff;
            border: 2px solid #e5e5e5;
            border-bottom: 4px solid #e5e5e5;
            border-radius: 12px;
            padding: 10px 15px;
            color: #afafaf;
            font-weight: bold;
            cursor: pointer;
            font-family: var(--font-main);
            font-size: 1rem;
            white-space: nowrap;
            height: 50px;
            display: flex;
            align-items: center;
        }
        .nav-btn:hover { background: #f9f9f9; color: #888; }
        .nav-btn:active { border-bottom-width: 2px; transform: translateY(2px); }
        
        @media (max-width: 600px) {
            .table-view th { width: 30px; font-size: 0.9rem; text-align: center; }
            .table-view td { padding: 8px; }
            h1 { font-size: 1.5rem; }
            
            .control-bar { gap: 8px; }
            .icon-btn { width: 55px; height: 55px; font-size: 22px; }
            .nav-btn { padding: 8px 10px; font-size: 0.9rem; height: 45px; }
        }
    </style>
</head>
<body oncontextmenu="return false;">

<div id="app">
    <div id="menu-view">
        <h1>é€²éšå£èªªç·´ç¿’</h1>
        <h2>æ•™è‚²éƒ¨å°èªä¿—è«º</h2>
        
        <div class="option-group">
            <span class="option-label">éŠæˆ²æ¨¡å¼</span>
            <div class="btn-group" id="mode-select">
                <button class="btn selected" data-value="hanji">å°èªå­—æ¨¡å¼</button>
                <button class="btn" data-value="romaji">ç¾…é¦¬å­—æ¨¡å¼</button>
            </div>
        </div>

        <div class="option-group">
            <span class="option-label">æ¸¬é©—æ•¸é‡</span>
            <div class="btn-group" id="count-select">
                <button class="btn selected" data-value="5">5</button>
                <button class="btn" data-value="7">7</button>
                <button class="btn" data-value="9">9</button>
                <button class="btn" data-value="11">11</button>
                <button class="btn" data-value="13">13</button>
                <button class="btn" data-value="all">å…¨éƒ¨</button>
            </div>
        </div>

        <button class="btn btn-primary" onclick="startGame()">é–‹å§‹éŠæˆ²</button>
    </div>

    <div id="game-view" class="game-container" style="display: none;">
        
        <div class="content-wrapper">
            <table class="table-view">
                <tr>
                    <th>åºè™Ÿ</th>
                    <td id="q-index">1</td>
                </tr>
                <tr>
                    <th>ä¿—è«ºèªè©ç›®</th>
                    <td id="q-content" class="target-sentence">--</td>
                </tr>
                <tr>
                    <th>è¯èªé‡‹ç¾©</th>
                    <td id="q-meaning">--</td>
                </tr>
            </table>
        </div>

        <div id="feedback-box" class="feedback-area">
            <div id="feedback-text" class="result-text">è«‹æŒ‰ä¸‹éº¥å…‹é¢¨é–‹å§‹ä½œç­”</div>
            <div id="feedback-msg" class="feedback-msg"></div>
        </div>

        <div class="control-bar">
            <button class="nav-btn" onclick="returnToMenu()">è¿”å›é¸å–®</button>
            <button class="icon-btn btn-audio" id="play-audio-btn" title="æ’­æ”¾éŸ³æª”">ğŸ”Š</button>
            <button class="icon-btn btn-record" id="record-btn" title="èªéŸ³ä½œç­”">ğŸ™ï¸</button>
            <button class="nav-btn" id="prev-btn" onclick="prevQuestion()">ä¸Šä¸€é¡Œ</button>
            <button class="nav-btn" id="next-btn" onclick="nextQuestion()">ä¸‹ä¸€é¡Œ</button>
        </div>
    </div>
</div>

<script>
    // --- è³‡æ–™åº« ---
    const rawData = [
        {id:1, hanji:"é´¨ä»”è½é›·", tl:"Ah-Ã¡ thiann luÃ®.", meaning:"æŒ‡é´¨å­è½åˆ°é›·è²ï¼Œä¸¦ä¸çŸ¥é“æ˜¯æ€éº¼å›äº‹ã€‚æ¯”å–»ä¸€å€‹äººå°æ‰€æ¥æ”¶çš„è¨Šæ¯ç„¡æ³•ç†è§£ã€‚", audio:"https://sutian.moe.edu.tw/media/senn/mp3/imtong/39/IR/272041.mp3"},
        {id:2, hanji:"æ„›æ‹šæ‰æœƒè´", tl:"Ã€i piÃ nn tsiah Ä“ iÃ¢nn.", meaning:"è¦åŠªåŠ›æ‰æœƒè´ã€‚æ¯”å–»å”¯æœ‰åŠªåŠ›å¥®é¬¥ï¼Œæ‰èƒ½å…‹æœå›°é›£ï¼Œæˆå°±ä¸€ç•ªäº‹æ¥­ã€‚", audio:"https://sutian.moe.edu.tw/media/senn/mp3/imtong/Yx/s7/271611.mp3"},
        {id:3, hanji:"æ„›åª æ¯‹é©šæµé¼»æ°´", tl:"Ã€i-suÃ­ mÌ„ kiann lÃ¢u phÄ«nn-tsuÃ­.", meaning:"ç‚ºäº†å±•ç¤ºè‡ªå·±å§£å¥½çš„èº«æï¼Œå¤©æ°£å†å†·ï¼Œå¯§å¯æŒ¨å¯’å—å‡ï¼Œä¹Ÿä¸é¡˜å¤šç©¿è¡£æœã€‚å¸¸ç”¨ä»¥æ¶æ„å¥³æ€§æ„›ç¾ï¼Œå¯§å¯ä»˜å‡ºä»£åƒ¹ï¼Œä¹Ÿåœ¨æ‰€ä¸æƒœã€‚", audio:"https://sutian.moe.edu.tw/media/senn/mp3/imtong/4v/iB/271621.mp3"},
        {id:4, hanji:"æš—é “æ¸›é£Ÿä¸€å£ï¼Œæ´»ç”²ä¹åä¹", tl:"Ã€m-tÇ¹g kiÃ¡m tsiaÌh tsiÌt khÃ¡u, uaÌh kah kÃ¡u-tsaÌp-kÃ¡u.", meaning:"æ™šé¤å°‘åƒä¸€å£ï¼Œæ´»åˆ°ä¹åä¹ã€‚èªªæ˜æ™šé¤çš„é£Ÿç”¨é‡å°‘ä¸€é»ï¼Œæœ‰ç›Šèº«é«”å¥åº·ã€‚", audio:"https://sutian.moe.edu.tw/media/senn/mp3/imtong/Gj/cz/271641.mp3"},
        {id:5, hanji:"ç¿ä»”æŸæ˜¯ç›¸æ¬ å‚µ", tl:"Ang-Ã¡-bÃ³o sÄ« sio-khiÃ m-tsÃ¨.", meaning:"ä»Šä¸–æœ‰ç·£çµç‚ºå¤«å¦»ï¼Œä¹ƒå› å‰ä¸–å› æœï¼Œäº’ç›¸æ¬ å‚µæ‰€è‡´ã€‚å¤«å¦»æ„è¦‹ä¸åˆç›¸äº’çˆ­åµæ™‚ï¼Œå¸¸ç”¨é€™å¥è©±ä¾†å‹¸é›™æ–¹å§»ç·£å‰å®šï¼Œæ‡‰ä»¥å’Œç‚ºè²´ã€‚", audio:"https://sutian.moe.edu.tw/media/senn/mp3/imtong/s4/HC/270931.mp3"},
        {id:6, hanji:"ç¿æŸè‹¥ä»å¿ƒï¼Œçƒå¡—è®Šæˆé‡‘", tl:"Ang-bÃ³o nÄ kÄng-sim, oo-thÃ´o piÃ n-sÃ®ng kim.", meaning:"å¤«å¦»è‹¥åŒå¿ƒå”åŠ›ï¼Œæ²’æœ‰åƒ¹å€¼çš„é»‘åœŸéƒ½èƒ½è®Šæˆé«˜åƒ¹å€¼çš„æ±è¥¿ã€‚æ¯”å–»å¤«å¦»å’Œè«§ï¼Œä¸€èµ·åŠªåŠ›ï¼Œä»»ä½•äº‹éƒ½å¯æˆå°±ã€‚", audio:"https://sutian.moe.edu.tw/media/senn/mp3/imtong/IF/LV/270941.mp3"},
        {id:7, hanji:"å°ªå§¨é †è©±å°¾ï¼Œå‡ç«¥å®³çœ¾äºº", tl:"Ang-Ã® sÅ«n uÄ“-buÃ©, kÃ© tÃ¢ng hÄi tsÃ¬ng-lÃ¢ng.", meaning:"éˆåª’æœƒé †è‘—å°æ–¹çš„å¿ƒæ„èªªè©±ï¼Œå‡å†’ä¹‹ä¹©ç«¥æ•…æ„è£ç¥å¼„é¬¼ä¾†æ¬ºé¨™äººã€‚æ­¤æŒ‡éˆåª’ã€ä¹©ç«¥å€Ÿæ£æ‘©æƒ…æ³ä¾†æ±ºå®šèªªè©±çš„å…§å®¹ï¼Œè€Œäººä¹Ÿå› è¼•ä¿¡å·«è¡“é¬¼ç¥è€Œèº«å—å…¶å®³ã€‚", audio:"https://sutian.moe.edu.tw/media/senn/mp3/imtong/ex/LZ/270261.mp3"},
        {id:8, hanji:"ç¿è¦ªæŸè¦ªï¼Œè€å©†ä»”æ‹‹æ™è¼ª", tl:"Ang tshin bÃ³o tshin, lÄu-pÃ´-Ã¡ pha-tshia-lin.", meaning:"å¤«å¦»æ©æ„›ï¼Œè€å©†å©†ç¿»ç­‹æ–—ä¹Ÿä¸ç®¡ã€‚ã€Œè€å©†ä»”ã€æ˜¯æŒ‡å¹´é‚çš„æ¯è¦ªï¼Œã€Œæ‹‹æ™è¼ªã€æ˜¯ç¿»ç­‹æ–—ï¼Œé€™è£¡æŒ‡è€æ¯è¦ªè·Œå€’äº†åœ¨åœ°ä¸Šæ‰“æ»¾ï¼Œå­å¥³å»ç½®ä¹‹è…¦å¾Œã€æ£„ä¹‹ä¸é¡§ã€‚", audio:"https://sutian.moe.edu.tw/media/senn/mp3/imtong/MP/0h/270951.mp3"},
        {id:9, hanji:"ç´…åª ï¼Œçƒå¤§ç¯„", tl:"Ã‚ng suÃ­, oo tuÄ-pÄn.", meaning:"ç´…è‰²ç¾éº—ï¼Œé»‘è‰²å¤§æ–¹ã€‚å½¢å®¹äººè¡£è‘—è‰²å½©ï¼Œç´…è‰²é¡¯å¾—é®®è±”äº®éº—ï¼Œé»‘è‰²å‘ˆç¾é«˜è²´å¤§æ–¹ï¼Œæœ‰æ°£è³ªã€æœ‰é¢¨å‘³ã€‚", audio:"https://sutian.moe.edu.tw/media/senn/mp3/imtong/dL/2J/270611.mp3"},
        {id:10, hanji:"ä†€çŒ´ğ ¢•æ¬ æ•¸", tl:"BÃ¡i-kÃ¢u gÃ¢u khiÃ m-siÃ u.", meaning:"é›£çºçš„å®¢äººæ„›è³’å¸³ã€‚å½¢å®¹äººå¤–å‹ä¸ä½³åˆæ„›è³’å¸³ã€‚", audio:"https://sutian.moe.edu.tw/media/senn/mp3/imtong/jX/Ts/272171.mp3"},
        {id:11, hanji:"ç›®ç­èŠ±èŠ±ï¼ŒåŒä»”çœ‹åšèœç“œ", tl:"BaÌk-tsiu hue-hue, pÃ»-Ã¡ khuÃ nn-tsÃ² tshÃ i-kue.", meaning:"çœ¼ç›çœ‹ä¸æ¸…æ¥šï¼Œç“ ç“œçœ‹æˆçµ²ç“œã€‚å˜²ç¬‘åˆ¥äººä¸€æ™‚æç¥ï¼ŒæŠŠå½¢ç‹€ç›¸è¿‘çš„ç‰©å“çœ‹æˆåˆ¥çš„æ±è¥¿ã€‚", audio:"https://sutian.moe.edu.tw/media/senn/mp3/imtong/dG/wM/269831.mp3"},
        {id:12, hanji:"ç›®ç­çœ‹æ‡¸ï¼Œç„¡çœ‹ä½", tl:"BaÌk-tsiu khuÃ nn-kuÃ¢n, bÃ´ khuÃ nn-kÄ“.", meaning:"çœ¼ç›é•·åœ¨é ­é ‚ä¸Šï¼Œçœ‹ä¸Šä¸çœ‹ä¸‹ã€‚å½¢å®¹äººèµ°è·¯ä¸çœ‹è·¯ã€‚å¼•ç”³ç‚ºäººå‹¢åˆ©ï¼Œçœ‹ä¸èµ·èº«åˆ†è¼ƒä½çš„äººã€‚", audio:"https://sutian.moe.edu.tw/media/senn/mp3/imtong/IY/vJ/269861.mp3"},
        {id:13, hanji:"ç›®ç­çœ‹ä½‡ç²¿ï¼Œè·¤è¸è‘—ç«", tl:"BaÌk-tsiu khuÃ nn tÄ« kuÃ©, kha taÌh-tioÌh huÃ©.", meaning:"çœ¼ç›çœ‹è‘—ç³•å“ï¼Œè…³è¸©åˆ°ç«ã€‚ç”¨ä¾†å‹¸äººåšäº‹ä¸è¦åªé¡§ç•¶å‰çš„å¥½è™•ï¼Œè€Œå¿˜äº†é€±é­çš„å±éšªï¼Œä»¥å…èº«é™·éšªå¢ƒè€Œä¸çŸ¥ã€‚", audio:"https://sutian.moe.edu.tw/media/senn/mp3/imtong/nP/nv/269851.mp3"},
        {id:14, hanji:"ç›®ç­é‡‘é‡‘äººå‚·é‡", tl:"BaÌk-tsiu kim-kim lÃ¢ng siong-tiÅng.", meaning:"çœ¼ç›çœå¤§ï¼Œç—…æƒ…åš´é‡ã€‚å½¢å®¹äººç—…å¾—å¾ˆåš´é‡ï¼Œåªèƒ½å¼µå¤§çœ¼ç›ï¼Œç„¡æ³•å‹•å½ˆï¼›ä¹Ÿç”¨ä¾†æ¯”å–»é‡åˆ°äº‹æƒ…æŸæ‰‹ç„¡ç­–ï¼Œåªèƒ½ä¹¾çªçœ¼è€Œæ²’è¾¦æ³•è™•ç†ã€‚", audio:"https://sutian.moe.edu.tw/media/senn/mp3/imtong/CQ/2z/269841.mp3"},
        {id:15, hanji:"ç›®ç­æ›æ–—æ¦‚ï¼Œçœ‹äººç‰©å°±æ„›", tl:"BaÌk-tsiu kuÃ  tÃ¡u-kÃ i, khuÃ nn lÃ¢ng miÌh tÅ Ã i.", meaning:"çœ¼ç›æ›è‘—å¹³æ–—çš„æœ¨æ¦‚ï¼Œçœ‹åˆ°åˆ¥äººçš„æ±è¥¿å°±æƒ³è¦ã€‚ç”¨ä¾†å½¢å®¹äººéæ–¼è²ªå¿ƒã€‚", audio:"https://sutian.moe.edu.tw/media/senn/mp3/imtong/uc/DS/269871.mp3"},
        {id:16, hanji:"æ…¢ç‰›åšå±å°¿", tl:"BÄn gÃ» kÄu-sÃ¡i-jiÅ.", meaning:"è¡Œå‹•é²ç·©çš„ç‰›å±å°¿å¤šã€‚æ¯”å–»æ‡¶æƒ°çš„äººåšäº‹ä¸ä¹¾è„†ï¼Œå¸¸æ‰¾è—‰å£é€ƒé¿æˆ–å»¶é²è©²ç›¡çš„è²¬ä»»ã€‚", audio:"https://sutian.moe.edu.tw/media/senn/mp3/imtong/rN/Du/271831.mp3"},
        {id:17, hanji:"è¬äº‹èµ·é ­é›£", tl:"BÄn-sÅ« khÃ­-thÃ¢u lÃ¢n.", meaning:"ä¸€åˆ‡äº‹æƒ…é–‹é ­éšæ®µéƒ½å¾ˆå›°é›£ã€‚æ„æŒ‡äº‹æƒ…å‰›é–‹å§‹çš„æ™‚å€™ï¼Œéƒ½æ¯”è¼ƒå›°é›£ï¼Œåªè¦ä¸æ”¾æ£„ï¼Œç¹¼çºŒåšï¼Œä¹…äº†å°±æœƒé †æ‰‹ã€ç†Ÿç·´ã€‚", audio:"https://sutian.moe.edu.tw/media/senn/mp3/imtong/jL/3Z/271691.mp3"},
        {id:18, hanji:"è²·è³£ç®—åˆ†ï¼Œç›¸è«‹ç„¡è«–", tl:"BÃ©-bÄ“ sÇ¹g hun, sio-tshiÃ¡nn bÃ´ lÅ«n.", meaning:"åšç”Ÿæ„å°±å¾—æŠŠå¸³ç›®ç®—å€‹æ¸…æ¥šï¼Œè‡³æ–¼è«‹å®¢åƒé£¯ï¼Œå‰‡ç„¡éœ€è¨ˆè¼ƒã€‚èªªæ˜ç”Ÿæ„èˆ‡äº¤æƒ…çš„ç•Œç·šç†æ‡‰åˆ†æ˜ã€‚", audio:"https://sutian.moe.edu.tw/media/senn/mp3/imtong/W6/zF/271521.mp3"},
        {id:19, hanji:"è²·ç”°æ„›æ€å¥½ç”°åº•ï¼Œå¨¶æŸæ„›æ€å¥½å¨˜å¬­", tl:"BÃ© tshÃ¢n Ã i kÃ­ng hÃ³ tshÃ¢n tÃ©, tshuÄ-bÃ³o Ã i kÃ­ng hÃ³ niÃ»-lÃ©.", meaning:"è²·ç”°åœ°ï¼Œè¦æ…é¸åœŸè³ªå¥½çš„ç”°åœ°ï¼›å¨¶è€å©†ï¼Œè¦å…ˆè§€å¯Ÿå¥³æ–¹æ¯è¦ªä¹‹è¡Œç‚ºèˆ‰æ­¢ã€‚æ„å³æœ‰å…¶æ¯å¿…æœ‰å…¶å¥³ï¼Œç”¨ä¾†èªªæ˜é¸å¦»å­æ™‚å°æ–¹å®¶æ•™çš„é‡è¦ã€‚", audio:"https://sutian.moe.edu.tw/media/senn/mp3/imtong/xp/7Y/271501.mp3"},
        {id:20, hanji:"è²·åï¼Œè²·åé‚Š", tl:"BÃ© tshÃ¹, bÃ© tshÃ¹-pinn.", meaning:"è²·æˆ¿å­è¦æ…é¸å¥½é„°å±…ã€‚å¼·èª¿é¸æ“‡ä½å®¶æ™‚ï¼Œé„°å±…çš„å¥½å£è‡³é—œé‡è¦ã€‚", audio:"https://sutian.moe.edu.tw/media/senn/mp3/imtong/n8/5X/271511.mp3"},
        {id:21, hanji:"è¢‚æ›‰å‰ƒé ­ï¼Œæ‹„è‘—é¬é¬š", tl:"BÄ“-hiÃ¡u thÃ¬-thÃ¢u, tÃº-tioÌh hÃ´o-tshiu.", meaning:"ä¸æœƒç†é«®ï¼Œé‡åˆ°å¤§é¬å­ã€‚ç†é«®å¸«æŠ€è¡“é‚„ä¸å¤ ç´”ç†Ÿï¼Œé¦–æ¬¡ä¸Šå ´å°±é‡åˆ°ä¸€å€‹å¤§é¬å­çš„å®¢äººï¼Œä»¥è‡´æ–¼æ‰‹å¿™è…³äº‚ï¼Œä¸çŸ¥é“è©²å¦‚ä½•æ˜¯å¥½ã€‚æ¯”å–»åœ¨ç¶“é©—ä¸è¶³çš„æƒ…æ³ä¸‹ï¼Œååç¢°ä¸Šäº†æ£˜æ‰‹çš„é›£é¡Œã€‚", audio:"https://sutian.moe.edu.tw/media/senn/mp3/imtong/Q5/d7/270981.mp3"},
        {id:22, hanji:"è³£èŒ¶è¬›èŒ¶èŠ³ï¼Œè³£èŠ±è¬›èŠ±ç´…", tl:"BÄ“ tÃª kÃ³ng tÃª phang, bÄ“ hue kÃ³ng hue Ã¡ng.", meaning:"è³£èŒ¶è‘‰çš„äººå¼·èª¿è‡ªå·±è³£çš„èŒ¶è‘‰æœ‰å¤šé¦™ï¼›è³£èŠ±çš„äººå¼·èª¿è‡ªå·±è³£çš„èŠ±é¡è‰²æœ‰å¤šéº¼çš„é®®è±”ã€‚æ¯”å–»è€ç‹è³£ç“œï¼Œè‡ªè³£è‡ªèª‡ã€‚", audio:"https://sutian.moe.edu.tw/media/senn/mp3/imtong/aW/gi/271941.mp3"},
        {id:23, hanji:"æ¬²å¥½é¡ç­‰å¾Œä¸–ï¼Œæ¬²åšå®˜å­¸åšæˆ²", tl:"Beh hÃ³-giaÌh tÃ¡n Äu-sÃ¬, beh tsÃ²-kuann oÌh tsÃ²-hÃ¬.", meaning:"å¦‚æœæƒ³ç™¼è²¡å°±ç­‰ä¸‹è¼©å­ï¼Œå¦‚æœæƒ³ç•¶å®˜ï¼Œå»æˆ²ç­å­æ¼”æˆ²å°±èƒ½éä¹¾ç™®ã€‚è«·åˆºäººæ­¤ç”Ÿå†ç„¡è‡´å¯Œèˆ‡å‡å®˜çš„æ©Ÿæœƒï¼Œæœ‰æ™‚ä¹Ÿç”¨ä¾†è‡ªå˜²ã€‚", audio:"https://sutian.moe.edu.tw/media/senn/mp3/imtong/mT/mg/271151.mp3"},
        {id:24, hanji:"ç„¡ç±³æœ‰èˆ‚è‡¼ï¼Œç„¡å›æŠ±æ–°å©¦", tl:"BÃ´ bÃ­ Å« tsing-khÅ«, bÃ´ kiÃ¡nn phÅ sin-pÅ«.", meaning:"æ²’æœ‰ç±³å»æœ‰æ—ç±³çš„è‡¼ï¼›æ²’æœ‰å…’å­é ˜é¤Šä¸€å€‹ç«¥é¤Šåª³ã€‚å½¢å®¹äººåªæœƒåšç™½æ—¥å¤¢ï¼Œä¸åˆ‡å¯¦éš›ã€‚", audio:"https://sutian.moe.edu.tw/media/senn/mp3/imtong/vd/wM/271401.mp3"},
        {id:25, hanji:"ç„¡ç‰›é§›é¦¬", tl:"BÃ´ gÃ» sÃ¡i bÃ©.", meaning:"æ²’æœ‰ç‰›åªèƒ½ç”¨é¦¬åŒ¹ä¾†æ›¿ä»£ã€‚å½¢å®¹é€€è€Œæ±‚å…¶æ¬¡ï¼Œæš«ä¸”ä»£ç”¨çš„ç„¡å¥ˆã€‚", audio:"https://sutian.moe.edu.tw/media/senn/mp3/imtong/Gf/Xb/271391.mp3"},
        {id:26, hanji:"ç„¡é­šï¼Œè¦å˜›å¥½", tl:"BÃ´ hÃ®, hÃª mÄ hÃ³.", meaning:"æ‰ä¸åˆ°é­šï¼Œæ‰åˆ°è¦å­ä¹Ÿå¥½ã€‚æ¯”å–»é€€è€Œæ±‚å…¶æ¬¡ï¼ŒèŠå‹æ–¼ç„¡ã€‚", audio:"https://sutian.moe.edu.tw/media/senn/mp3/imtong/OQ/N3/271441.mp3"},
        {id:27, hanji:"ç„¡å½¼è™Ÿå°»å·ï¼Œæƒ³æ¬²é£Ÿå½¼è™Ÿç€‰è—¥", tl:"BÃ´ hit-lÅ kha-tshng, siÅ«nn-beh tsiaÌh hit-lÅ siÃ -ioÌh.", meaning:"æ²’æœ‰é‚£ç¨®å±è‚¡ï¼Œæƒ³åƒé‚£ç¨®ç€‰è—¥ã€‚å½¢å®¹äººæ²’æœ‰é‚£ç¨®èƒ½è€ï¼Œå»å¦„æƒ³åšé‚£ç¨®äº‹ã€‚æ¯”å–»ä¸€å€‹äººè‡ªä¸é‡åŠ›ã€‚", audio:"https://sutian.moe.edu.tw/media/senn/mp3/imtong/kU/jS/271411.mp3"},
        {id:28, hanji:"ç„¡æ—¥æ¯‹çŸ¥æ™ï¼Œç„¡é¬šæ¯‹çŸ¥è€", tl:"BÃ´ jiÌt mÌ„ tsai tÃ u, bÃ´ tshiu mÌ„ tsai lÄu.", meaning:"æ²’å‡ºå¤ªé™½ï¼Œä¸çŸ¥å·²ç¶“åˆ°ä¸­åˆäº†ï¼›æ²’ç•™é¬å­ï¼Œä¸æ˜“å¯Ÿè¦ºäººå·²è€é‚ã€‚æ¯”å–»å…‰é™°æ˜“é€ï¼Œå¾ˆå®¹æ˜“åœ¨ä¸çŸ¥ä¸è¦ºä¸­è’å»¢ã€‚", audio:"https://sutian.moe.edu.tw/media/senn/mp3/imtong/q0/gY/271371.mp3"},
        {id:29, hanji:"ç„¡æ·å¤¯äº¤æ¤…", tl:"BÃ´ kÃª giÃ¢ kau-Ã­.", meaning:"æ²’æœ‰æ·é–ç­‰åˆ‘å…·å¯æŠ«æ·å¸¶é–ï¼Œç«Ÿç„¶å°‡å¤ªå¸«æ¤…æ‰›åœ¨èº«ä¸Šã€‚æ¯”å–»è‡ªæ‰¾éº»ç…©ï¼Œåº¸äººè‡ªæ“¾ã€‚", audio:"https://sutian.moe.edu.tw/media/senn/mp3/imtong/u0/31/271421.mp3"},
        {id:30, hanji:"ç„¡ç¦ç„¡å¿Œï¼Œé£Ÿç™¾äºŒ", tl:"BÃ´-kÃ¬m-bÃ´-khÄ«, tsiaÌh pah-jÄ«.", meaning:"å½¢å®¹äººç™¾ç„¡ç¦å¿Œï¼Œæ¯«ç„¡å¿Œè«±ï¼Œä¾¿èƒ½é•·å£½æ´»åˆ°ä¸€ç™¾äºŒåæ­²ã€‚é€šå¸¸æ˜¯è§¸ç¢°ç¦å¿Œè€…ç”¨ä¾†è‡ªæˆ‘å®‰æ…°çš„èªªæ³•ã€‚", audio:"https://sutian.moe.edu.tw/media/senn/mp3/imtong/uy/3l/271451.mp3"},
        {id:31, hanji:"ç„¡æ¯›é›å‡å¤§æ ¼", tl:"BÃ´ mÃ´o ke kÃ© tuÄ-keh.", meaning:"ç™¼è‚²ä¸è‰¯ç¾½æ¯›ç¨€ç–çš„é›å‡å†’æˆé«”æ ¼é«˜å¤§ã€‚æ¯”å–»ä¸€å€‹äººæ˜æ˜æ²’éŒ¢é‚„è£é—Šï¼›æˆ–æŒ‡äººæ˜æ˜æ²’æœ‰æ‰èƒ½ï¼Œé‚„è£å‡ºå¾ˆæœ‰æœ¬äº‹çš„æ¨£å­ã€‚", audio:"https://sutian.moe.edu.tw/media/senn/mp3/imtong/Kj/9W/271381.mp3"},
        {id:32, hanji:"ç„¡é€šç”Ÿé£Ÿï¼Œå“ªæœ‰é€šæ›ä¹¾", tl:"BÃ´ thang tshenn tsiaÌh, nÃ¡ Å« thang phaÌk-kuann.", meaning:"ç”Ÿåƒéƒ½ä¸å¤ ï¼Œå“ªèƒ½æ™’æˆä¹¾ï¼Ÿæ¯”å–»æ•¸é‡ä¸è¶³ï¼Œä¸å¯èƒ½æœ‰å¤šé¤˜çš„ç•™ä¸‹ä¾†ã€‚ä¹ŸæŒ‡å€‹äººæˆ–å®¶è¨ˆçª˜å›°ï¼Œæ²’æœ‰é¤˜éŒ¢ä½œé¡å¤–æ”¯å‡ºã€‚", audio:"https://sutian.moe.edu.tw/media/senn/mp3/imtong/oV/ve/271431.mp3"},
        {id:33, hanji:"ç½”è¶è¼ƒè¢‚æ•£", tl:"BÃ³ng thÃ n khah bÄ“ sÃ n.", meaning:"å¤šå°‘è³ºä¸€é»ï¼Œæ‰ä¸è‡´æ–¼é™·å…¥çª®å›°ã€‚èªªæ˜å³ä½¿åˆ©æ½¤éå¸¸å°ï¼Œä¹Ÿæ‡‰ç©æ¥µè³ºå–ã€‚", audio:"https://sutian.moe.edu.tw/media/senn/mp3/imtong/Ez/Be/270371.mp3"},
        {id:34, hanji:"æŸå¤§å§Šï¼Œåé‡‘äº¤æ¤…", tl:"BÃ³o-tuÄ-tsÃ­, tsÄ“ kim kau-Ã­.", meaning:"å¨¶å¹´é•·çš„å¦»å­å°±åƒåä¸Šå¤ªå¸«æ¤…ã€‚å½¢å®¹å°‘å¤«è€å¦»ï¼Œä¸ˆå¤«å¾ˆå—å¯µã€é —äº«ç¦ã€‚", audio:"https://sutian.moe.edu.tw/media/senn/mp3/imtong/TM/1v/270531.mp3"},
        {id:35, hanji:"ç„¡ä¸‰ä¸æˆç¦®", tl:"BÃ» sam put sÃ®ng lÃ©.", meaning:"é€ç¦®ã€è‡´æ•¬è¦ä¸€è€Œå†ï¼Œå†è€Œä¸‰ã€‚æ¯”å–»ç¦®å¤šäººä¸æ€ªã€‚", audio:"https://sutian.moe.edu.tw/media/senn/mp3/imtong/4y/wd/271361.mp3"},
        {id:36, hanji:"æœªé£Ÿäº”æ—¥ç¯€ç²½ï¼Œç ´è£˜æ¯‹ç”˜æ”¾", tl:"BuÄ“ tsiaÌh GÅo-jiÌt-tseh tsÃ ng, phuÃ  hiÃ» mÌ„ kam pÃ ng.", meaning:"é‚„æ²’åƒç«¯åˆç¯€ç²½å­ï¼Œç ´æ£‰è¥–æ¨ä¸å¾—æ”¾ã€‚è‡ºç£çš„æ°£å€™åœ¨ç«¯åˆç¯€ä¹‹å‰ï¼Œéƒ½é‚„å¯èƒ½æœ‰è½‰å†·ï¼Œæ‰€ä»¥é‚„æ²’éç«¯åˆç¯€ï¼Œå†¬è¡£ä¸èƒ½æ”¶èµ·ä¾†ã€‚", audio:"https://sutian.moe.edu.tw/media/senn/mp3/imtong/EM/kA/269711.mp3"},
        {id:37, hanji:"æœªæ›¾å­¸è¡Œå…ˆå­¸é£›ï¼Œæœªæ›¾æ–ç¨®æƒ³æŒ½ç“œ", tl:"BuÄ“-tsÃ®ng oÌh kiÃ¢nn sing oÌh pue, buÄ“-tsÃ®ng iÄ-tsÃ­ng siÅ«nn bÃ¡n kue.", meaning:"é‚„ä¸æœƒèµ°è·¯å°±æƒ³å­¸é£›ï¼Œå°šæœªæ’­ç¨®ç«Ÿå¦„æƒ³æ”¶æˆç“œæœã€‚æŒ‡äººè¦å¾ªåºæ¼¸é€²çš„å­¸ç¿’èˆ‡æŒ‰æ­¥å°±ç­çš„è€•ä½œæ‰æœƒæœ‰æ‰€æ”¶ç©«ã€‚", audio:"https://sutian.moe.edu.tw/media/senn/mp3/imtong/dr/cF/269701.mp3"},
        {id:38, hanji:"æœƒæ›‰å·é£Ÿï¼Œè¢‚æ›‰æ‹­å–™", tl:"Ä’-hiÃ¡u thau tsiaÌh, bÄ“-hiÃ¡u tshit tshuÃ¬.", meaning:"åªçŸ¥é“è¦å·åƒï¼Œå»ä¸çŸ¥é“è¦æŠŠå˜´å·´æ“¦ä¹¾æ·¨ã€‚æ¯”å–»åšå£äº‹å¾Œï¼Œä¸æ‡‚å¾—æ¹®æ»…è­‰æ“šï¼Œè®“äººç™¼ç¾ã€‚", audio:"https://sutian.moe.edu.tw/media/senn/mp3/imtong/n2/c1/271671.mp3"},
        {id:39, hanji:"æœƒå’¬äººçš„ç‹—è¢‚å ", tl:"Ä’ kÄ--lÃ¢ng Ãª kÃ¡u bÄ“ puÄ«.", meaning:"æœƒå’¬äººçš„ç‹—ä¸æœƒå«ã€‚æ¯”å–»åŸåºœç”šæ·±ä¹‹äººå°‘è¨€ï¼Œä¸æ˜“æµéœ²å…¶æƒ…ç·’ã€‚", audio:"https://sutian.moe.edu.tw/media/senn/mp3/imtong/eI/EH/270471.mp3"},
        {id:40, hanji:"æœƒè·‹æ‰æœƒå¤§", tl:"Ä’ puaÌh tsiah Ä“ tuÄ.", meaning:"å°å­©å­¸ç¿’èµ°è·¯æ™‚ï¼Œè¦è·Œå€’éæ‰èƒ½é †åˆ©æˆé•·ã€‚æ¯”å–»äººè¦ç¶“æ­·éå¤±æ•—ã€æŒ«æŠ˜ï¼Œæ‰èƒ½æˆå°±äº‹æ¥­ã€‚", audio:"https://sutian.moe.edu.tw/media/senn/mp3/imtong/pV/Zh/271661.mp3"},
        {id:41, hanji:"æœƒç”Ÿå¾—å›èº«ï¼Œè¢‚ç”Ÿå¾—å›å¿ƒ", tl:"Ä’-senn-tit kiÃ¡nn sin, bÄ“-senn-tit kiÃ¡nn sim.", meaning:"èƒ½å¤ ç”Ÿå‡ºå­©å­çš„èº«é«”ï¼Œå»ä¸èƒ½ç”Ÿå‡ºå­©å­çš„å¿ƒæ€ã€‚æ„ç‚ºé›–ç„¶å…’å¥³æ˜¯çˆ¶æ¯æ‰€ç”Ÿï¼Œä½†ä¹Ÿæœ‰è‡ªå·±çš„æ„å¿—ï¼Œçˆ¶æ¯ä¸èƒ½ä»»æ„å·¦å³ã€‚", audio:"https://sutian.moe.edu.tw/media/senn/mp3/imtong/BP/Eh/271651.mp3"},
        {id:42, hanji:"ç–‘äººï¼Œæ¯‹æˆè³Š", tl:"GÃ® lÃ¢ng, mÌ„ tsiÃ¢nn tshaÌt.", meaning:"å…‰æ†‘æ‡·ç–‘ï¼Œä¸¦ç„¡æ³•èªå®šæŸäººå°±æ˜¯è³Šã€‚è¬‚å‡¡äº‹éƒ½è¦è¬›æ±‚è­‰æ“šï¼Œä¸èƒ½åªå› å…§å¿ƒæ‡·ç–‘ï¼Œä¾¿å°‡äººå…¥ç½ªã€‚", audio:"https://sutian.moe.edu.tw/media/senn/mp3/imtong/Jg/q6/271841.mp3"},
        {id:43, hanji:"æ”‘é ­ä¸‰å°ºæœ‰ç¥æ˜", tl:"GiaÌh-thÃ¢u sann tshioh Å« sÃ®n-bÃ®ng.", meaning:"æŠ¬èµ·é ­ä¸‰å°ºé«˜è™•å°±æœ‰ç¥æ˜å¯Ÿçœ‹è‘—ã€‚å‘Šèª¡äººå€‘åšäº‹å‰è¦ä¸‰æ€ï¼Œå› ç‚ºå†¥å†¥ä¹‹ä¸­éƒ½æœ‰ç¥åœ¨ç›£ç£è‘—æˆ‘å€‘çš„ä¸€è¨€ä¸€è¡Œã€‚", audio:"https://sutian.moe.edu.tw/media/senn/mp3/imtong/mQ/4Q/271331.mp3"},
        {id:44, hanji:"åš´å®˜åºœå‡ºåšè³Šï¼›åš´çˆ¸æ¯å‡ºé˜¿é‡Œä¸é”", tl:"GiÃ¢m kuann-hÃº tshut kÄu tshaÌt; giÃ¢m pÄ“-bÃº tshut a-lÃ­-put-taÌt.", meaning:"éæ–¼åš´è‹›çš„å®˜åºœï¼Œå°å·åè€Œæ›´åŠ çŒ–ç‹‚ï¼›çˆ¶æ¯ç®¡æ•™éåš´ï¼Œå°å­©è¶Šæ˜¯ä¸æˆæã€‚å–»é©ç•¶çš„å¾‹æ³•åŠæ•™è‚²æ›´ç‚ºé‡è¦ã€‚", audio:"https://sutian.moe.edu.tw/media/senn/mp3/imtong/Cf/wE/272281.mp3"},
        {id:45, hanji:"å›¡ä»”äººå°»å·ä¸‰æ–—ç«", tl:"GÃ­n-Ã¡-lÃ¢ng kha-tshng sann tÃ¡u huÃ©.", meaning:"å°å­©å±è‚¡æœ‰ä¸‰ç›†ç«ã€‚æ¯”å–»å°å­©å­è¡€æ°£æ–¹ç››ï¼Œå±è‚¡å¥½ä¼¼æœ‰ç«èˆ¬çš„ç†±åº¦ï¼Œæ­¤è™•ç”¨ä¾†å½¢å®¹å­©å­ä¸æ€•å†·ã€‚", audio:"https://sutian.moe.edu.tw/media/senn/mp3/imtong/9D/lo/269891.mp3"},
        {id:46, hanji:"å›¡ä»”äººæœ‰è€³ç„¡å–™", tl:"GÃ­n-Ã¡-lÃ¢ng Å«-hÄ«nn-bÃ´-tshuÃ¬.", meaning:"å°å­©å­æœ‰è€³æœµæ²’å˜´å·´ã€‚æŒ‡å«å°å­©è½è©±å°±å¥½ï¼Œä¸è¦å¤šå•ã€‚é€šå¸¸ä½¿ç”¨æ–¼å¤§äººèªªè©±æ™‚ï¼Œè‹¥å°å­©æ’å˜´æˆ–ç™¼å•ï¼Œä¾¿æœƒä»¥é€™å¥è©±ä¾†é˜»æ­¢å°å­©é–‹å£ã€‚", audio:"https://sutian.moe.edu.tw/media/senn/mp3/imtong/lv/3Q/270211.mp3"},
        {id:47, hanji:"æˆ‡çš„ä¹Ÿæœ‰ä¸€é …æœƒ", tl:"GÅng--Ãª iÄ Å« tsiÌt hÄng Ä“.", meaning:"ç¬¨çš„äººä¹Ÿæœ‰ä¸€é …ä»–æœƒçš„æ‰èƒ½ã€‚æ¯”å–»å¤©ç”Ÿæˆ‘æ‰å¿…æœ‰ç”¨ã€‚", audio:"https://sutian.moe.edu.tw/media/senn/mp3/imtong/yr/gA/272351.mp3"},
        {id:48, hanji:"äº”è‚¢æŒ‡é ­ä»”ä¼¸å‡ºä¾†ç„¡å¹³é•·", tl:"GÅo ki tsÃ­ng-thÃ¢u-Ã¡ tshun--tshut-lÃ¢i bÃ´ pÃªnn tnÌ‚g.", meaning:"æŒ‡äº”æ ¹æ‰‹æŒ‡é ­ä¼¸å‡ºä¾†ä¸å¯èƒ½ä¸€æ¨£é•·ï¼Œå¿…æœ‰æ‰€æ­§ç•°ã€‚å¦‚åŒå…„å¼Ÿå§Šå¦¹å…¶è°æ˜æ‰æ™ºä¸¦éä¸€è‡´ï¼Œä»èˆŠæœ‰æ‰€ä¸åŒã€‚", audio:"https://sutian.moe.edu.tw/media/senn/mp3/imtong/MY/Dq/269411.mp3"},
        {id:49, hanji:"ç‰›ç‰¢å…§è§¸ç‰›æ¯", tl:"GÃ»-tiÃ¢u-lÄi tak gÃ»-bÃ³.", meaning:"ç‰›åœˆè£¡é¬¥æ¯ç‰›ã€‚æ¯”å–»å…„å¼Ÿæˆ–åŒå¿—åªå–„å…§é¬¥ã€æ¬ºè² å¼±å°ï¼Œå»ä¸èƒ½æŠµç¦¦å¤–ä¾®ã€å…‹æœå¼·æ•µï¼Œåè€Œè¢«äººçœ‹æ‰äº†ã€‚", audio:"https://sutian.moe.edu.tw/media/senn/mp3/imtong/Gw/DC/269611.mp3"},
        {id:50, hanji:"ç‰›å°±æ˜¯ç‰›ï¼Œç‰½åˆ°åŒ—äº¬ä¹Ÿæ˜¯ç‰›", tl:"GÃ» tÅ sÄ« gÃ», khan kÃ u Pak-kiann iÄ sÄ« gÃ».", meaning:"æŠŠçª®é„‰åƒ»å£¤çš„ç‰›ï¼Œç‰½åˆ°äººæ–‡è–ˆèƒçš„äº¬åŸï¼Œå›ºåŸ·çš„ç‰›è„¾æ°£é‚„æ˜¯ä¾èˆŠã€‚å½¢å®¹äººçš„å€‹æ€§ä¸å¯èƒ½æ”¹è®Šï¼Œç¸±ä½¿æ›äº†ç’°å¢ƒé‚„æ˜¯åŸä¾†çš„æ¨£å­ã€‚", audio:"https://sutian.moe.edu.tw/media/senn/mp3/imtong/6L/Nc/269601.mp3"}
    ];

    // --- ç‹€æ…‹ç®¡ç† ---
    let state = {
        mode: 'hanji',
        count: 5,
        quizList: [],
        currentIndex: 0,
        answered: [], 
        isRecording: false,
        audioContext: null,
        mediaStream: null
    };

    let currentAudio = null;

    // --- é¸å–®äº’å‹• ---
    document.querySelectorAll('#mode-select .btn').forEach(btn => {
        btn.addEventListener('click', (e) => {
            document.querySelectorAll('#mode-select .btn').forEach(b => b.classList.remove('selected'));
            e.target.classList.add('selected');
            state.mode = e.target.dataset.value;
        });
    });

    document.querySelectorAll('#count-select .btn').forEach(btn => {
        btn.addEventListener('click', (e) => {
            document.querySelectorAll('#count-select .btn').forEach(b => b.classList.remove('selected'));
            e.target.classList.add('selected');
            state.count = e.target.dataset.value === 'all' ? rawData.length : parseInt(e.target.dataset.value);
        });
    });

    // --- éŠæˆ²é‚è¼¯ ---

    function startGame() {
        let shuffled = [...rawData].sort(() => 0.5 - Math.random());
        state.quizList = shuffled.slice(0, state.count);
        state.currentIndex = 0;
        state.answered = new Array(state.count).fill(null);

        document.getElementById('menu-view').style.display = 'none';
        document.getElementById('game-view').style.display = 'grid'; // åˆ‡æ›ç‚º Grid
        
        loadQuestion();
    }

    function returnToMenu() {
        if(currentAudio) { currentAudio.pause(); }
        stopRecording();
        document.getElementById('game-view').style.display = 'none';
        document.getElementById('menu-view').style.display = 'block';
    }

    function loadQuestion() {
        const item = state.quizList[state.currentIndex];
        
        document.getElementById('q-index').innerText = state.currentIndex + 1;
        
        // é‡‹ç¾©è™•ç†ï¼šæ ¹æ“šé•·åº¦è‡ªå‹•ç¸®å°æ–‡å­—
        const meaningEl = document.getElementById('q-meaning');
        meaningEl.innerText = item.meaning;
        meaningEl.className = ''; // é‡ç½® class
        
        const len = item.meaning.length;
        if (len > 80) {
            meaningEl.classList.add('text-xs');
        } else if (len > 50) {
            meaningEl.classList.add('text-sm');
        } else if (len > 30) {
            meaningEl.classList.add('text-md');
        } else {
            meaningEl.classList.add('text-lg');
        }

        const contentEl = document.getElementById('q-content');
        if (state.mode === 'hanji') {
            contentEl.innerText = item.hanji;
        } else {
            contentEl.innerText = item.tl;
        }
        
        const feedbackBox = document.getElementById('feedback-box');
        feedbackBox.className = 'feedback-area'; 
        document.getElementById('feedback-text').innerHTML = 'è«‹æŒ‰ä¸‹éº¥å…‹é¢¨é–‹å§‹ä½œç­”';
        document.getElementById('feedback-text').className = 'result-text';
        document.getElementById('feedback-msg').innerText = '';

        const playBtn = document.getElementById('play-audio-btn');
        playBtn.onclick = () => {
            if(currentAudio) currentAudio.pause();
            currentAudio = new Audio(item.audio);
            currentAudio.play();
        };

        if(state.answered[state.currentIndex]) {
            showFeedback(state.answered[state.currentIndex]);
        }
    }

    function nextQuestion() {
        if (state.currentIndex < state.quizList.length - 1) {
            state.currentIndex++;
            loadQuestion();
        } else {
            alert('é€™å·²ç¶“æ˜¯æœ€å¾Œä¸€é¡Œå›‰ï¼');
        }
    }

    function prevQuestion() {
        if (state.currentIndex > 0) {
            state.currentIndex--;
            loadQuestion();
        } else {
            alert('é€™å·²ç¶“æ˜¯ç¬¬ä¸€é¡Œå›‰ï¼');
        }
    }

    // --- è²éŸ³æ¨¡ä»¿èˆ‡éŸ³ç¯€æ¯”å°é‚è¼¯ ---

    function getTargetSyllableCount(item) {
        if (state.mode === 'hanji') {
            const cleanHanji = item.hanji.replace(/[ï¼Œã€ã€‚ï¼›ï¼šã€Œã€ã€ã€ï¼ˆï¼‰ï¼Ÿï¼\.\,\?\!\s]/g, "");
            return cleanHanji.length;
        } else {
            const cleanTL = item.tl.replace(/[\.\,\?\!]/g, "").trim();
            const parts = cleanTL.split(/[\s\-]+/); 
            return parts.filter(p => p.length > 0).length;
        }
    }

    function stopRecording() {
        if (state.mediaStream) {
            state.mediaStream.getTracks().forEach(track => track.stop());
            state.mediaStream = null;
        }
        if (state.audioContext) {
            state.audioContext.close();
            state.audioContext = null;
        }
        state.isRecording = false;
        document.getElementById('record-btn').classList.remove('recording');
    }

    async function startAudioAnalysis() {
        const recordBtn = document.getElementById('record-btn');
        if (state.isRecording) return;

        try {
            const stream = await navigator.mediaDevices.getUserMedia({ audio: true, video: false });
            state.mediaStream = stream;
            state.audioContext = new (window.AudioContext || window.webkitAudioContext)();
            const source = state.audioContext.createMediaStreamSource(stream);
            const analyser = state.audioContext.createAnalyser();
            
            analyser.fftSize = 512;
            source.connect(analyser);

            const bufferLength = analyser.frequencyBinCount;
            const dataArray = new Uint8Array(bufferLength);

            state.isRecording = true;
            recordBtn.classList.add('recording');

            // åƒæ•¸è¨­å®š
            const targetCount = getTargetSyllableCount(state.quizList[state.currentIndex]);
            const recordDuration = Math.max(2500, targetCount * 800);
            
            let startTime = Date.now();
            let maxVolumeDetected = 0;
            let syllableCount = 0;
            let isSpeaking = false;
            let silenceDuration = 0;
            
            const SPEAK_THRESHOLD = 25; 
            const SILENCE_DEBOUNCE = 150; 

            const processLoop = setInterval(() => {
                if (!state.isRecording) {
                    clearInterval(processLoop);
                    return;
                }

                analyser.getByteFrequencyData(dataArray);
                
                let sum = 0;
                for(let i = 0; i < bufferLength; i++) {
                    sum += dataArray[i];
                }
                let average = sum / bufferLength;
                
                if (average > maxVolumeDetected) {
                    maxVolumeDetected = average;
                }

                if (average > SPEAK_THRESHOLD) {
                    if (!isSpeaking) {
                        isSpeaking = true;
                        syllableCount++; 
                    }
                    silenceDuration = 0;
                } else {
                    silenceDuration += 50; 
                    if (silenceDuration > SILENCE_DEBOUNCE) {
                        isSpeaking = false;
                    }
                }

                if (Date.now() - startTime > recordDuration) {
                    clearInterval(processLoop);
                    stopRecording();
                    evaluateResult(syllableCount, maxVolumeDetected, targetCount);
                }

            }, 50);

        } catch (err) {
            console.error("Audio Error:", err);
            alert("ç„¡æ³•å­˜å–éº¥å…‹é¢¨ï¼Œè«‹ç¢ºèªæ¬Šé™æˆ–ä½¿ç”¨ HTTPS ç’°å¢ƒã€‚");
            state.isRecording = false;
            recordBtn.classList.remove('recording');
        }
    }

    document.getElementById('record-btn').onclick = () => {
        if(state.isRecording) {
            return; 
        }
        startAudioAnalysis();
    };

    function evaluateResult(userSyllables, maxVolume, targetSyllables) {
        if (maxVolume < 10) { 
            finishCheck('no-sound', state.mode === 'hanji' ? state.quizList[state.currentIndex].hanji : state.quizList[state.currentIndex].tl);
            return;
        }

        const diff = Math.abs(userSyllables - targetSyllables);
        let similarity = 1 - (diff / targetSyllables);
        if (similarity < 0) similarity = 0;

        console.log(`Target: ${targetSyllables}, User: ${userSyllables}, Sim: ${similarity}`);

        let status = 'wrong';
        
        // ä¿®æ­£ï¼šåªè¦ 30% ç›¸ä¼¼å³çµ¦æ­£ç¢ºå›é¥‹
        if (similarity >= 0.3) {
            status = 'correct';
        } else if (similarity > 0.1) {
            status = 'partial'; 
        } else {
            status = 'wrong';
        }

        const displayText = state.mode === 'hanji' ? state.quizList[state.currentIndex].hanji : state.quizList[state.currentIndex].tl;
        finishCheck(status, displayText);
    }

    function finishCheck(status, displayText) {
        const resultObj = {
            status: status,
            targetDisplay: displayText
        };
        state.answered[state.currentIndex] = resultObj;
        showFeedback(resultObj);
    }

    function showFeedback(result) {
        const box = document.getElementById('feedback-box');
        const textDiv = document.getElementById('feedback-text');
        const msgDiv = document.getElementById('feedback-msg');
        
        box.className = 'feedback-area';

        let displayText = result.targetDisplay;
        let msg = "";

        if (result.status === 'correct') {
            box.classList.add('status-correct');
            textDiv.className = 'result-text'; 
            textDiv.innerText = displayText;
            msg = "æ­£ç¢ºï¼å…±ä½ æ‹å™—ä»”ï¼";
        } else if (result.status === 'wrong' || result.status === 'no-sound') {
            box.classList.add('status-wrong');
            textDiv.className = 'result-text';
            textDiv.innerText = displayText;
            msg = result.status === 'no-sound' ? "ç„¡è½è‘—è²éŸ³ï¼Œè«‹é–£è¬›ä¸€æ“ºï¼" : "æ¯‹è‘—ï¼ä½ é–£è©¦ä¸€æ“ºï¼";
        } else {
            // Partial
            box.classList.add('status-partial');
            textDiv.className = 'result-text partial-text';
            let html = '';
            for (let char of displayText) {
                html += `<span>${char}</span>`;
            }
            textDiv.innerHTML = html;
            msg = "éƒ¨ä»½æ¯‹è‘—ï¼Œé–£ä¸€æ”¹ï¼";
        }

        msgDiv.innerText = msg;
    }
</script>
</body>
</html>
